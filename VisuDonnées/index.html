<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="Visualisation des faits criminels en France à travers des graphiques interactifs.">
        <title>Étude Graphique des Faits en France</title>
        <link rel="stylesheet" href="src/style.css">
    </head>
    <body>
        <header class="text-center p-4 bg-light">
            <h1>Étude Graphique des Faits en France</h1>
            <p>Explorez l'évolution des faits criminels à travers différents graphiques interactifs.</p>
        </header>

        <!--<svg style="display:hidden">
            <defs>
                <pattern id="pattern-one" viewBox="0, 0, 11, 11" width="15%" height="15%" fill="red">
                    <circle cx="5" cy="5" r="5" fill="green" />
                </pattern>
                <pattern id="pattern-two" viewBox="0, 0, 10, 10" width="100%" height="100%" style="transform : rotate(45deg)">
                <g >
                    <rect height="10" width="10" fill="black" />
                    <rect height="10" width="5" fill="gray" />              
                </g>
                </pattern>
            </defs>
        </svg>-->
        <svg width="0" height="0">
            <defs>
              <pattern id="hachures" patternUnits="userSpaceOnUse" width="10" height="10">
                <line x1="0" y1="0" x2="10" y2="10" stroke="black" stroke-width="1" />
              </pattern>
            </defs>
            <rect width="200" height="200" fill="url(#hachures)" />
        </svg>
          

        <div class="tooltip"></div>

        <nav>
            <div class="nav nav-tabs px-4 nav-justified" id="nav-tab" role="tablist">
                <button class="nav-link active" id="nav-description-tab" data-bs-toggle="tab" data-bs-target="#nav-description" type="button" role="tab">Description du sujet</button>
                <button class="nav-link" id="nav-tendances-tab" data-bs-toggle="tab" data-bs-target="#nav-tendances" type="button" role="tab">Connaître les tendances</button>
                <button class="nav-link" id="nav-profils-tab" data-bs-toggle="tab" data-bs-target="#nav-profils" type="button" role="tab">Analyser les profils des départements</button>
                <button class="nav-link" id="nav-libre-tab" data-bs-toggle="tab" data-bs-target="#nav-libre" type="button" role="tab">Analyse visuelle libre</button>
            </div>
        </nav>
    
        <div class="tab-content" id="nav-tabContent">

            <!-- Description du sujet -->
            <div class="tab-pane fade show active" id="nav-description" role="tabpanel">

                <div class="container p-4">
                    <div class="text-center font-h2">
                        <h2>Présentation des Données</h2>
                        <p>Les fichiers CSV contiennent des statistiques sur les faits constatés en France entre 2002 et 2010. Ces fichiers, nommés « faits2002.csv » à « faits2010.csv », offrent une vue détaillée des crimes et délits enregistrés dans les départements français au cours de cette période.</p>
                    </div>

                    <hr class="line">

                    <h3>Tâches d’analyse visuelle</h3>
                    <p>Le projet consiste à analyser ces données à travers des visualisations interactives pour mieux comprendre les tendances et les caractéristiques des faits criminels en France :</p>
                    <ul>
                        <li><strong>Tâche 1 : Connaître les tendances</strong></li>
                        <ul>
                            <li>Évolution globale (tous les départements confondus) pour un fait donné.</li>
                            <li>Évolution détaillée (un département et/ou un fait sélectionné).</li>
                        </ul>
                        <li><strong>Tâche 2 : Analyser les profils des départements</strong></li>
                        <ul>
                            <li>Identifier les groupes et les cas particuliers parmi les départements.</li>
                        </ul>
                        <li><strong>Tâche 3 : Analyse libre</strong></li>
                        <ul>
                            <li>Définir une analyse visuelle supplémentaire, choisir la visualisation interactive la plus appropriée pour répondre à un besoin spécifique et la réaliser.</li>
                        </ul>
                    </ul>
                </div>

            </div>

            <!-- Connaître les tendances -->
            <div class="tab-pane fade text-center" id="nav-tendances" role="tabpanel">

                <div class="font-h2">
                    <h2>Évolution globale (tous les départements confondus) pour un fait donné</h2>
                </div>
                
                <div id="graphEvolFaits" class="container p-4">
                    <h3>Évolution du nombre de faits par année</h3>
                    <svg class="graph"></svg>       
                </div>

                <hr class="line">

                <div class="font-h2">
                    <h2>Évolution détaillée (un département et/ou un fait sélectionné)</h2>
                </div>

                <div id="graphComparaisonFaits" class="container p-4">
                    <h3>Comparaison des faits : France vs Département sélectionné</h3>
                    <svg class="graph"></svg>
                    <div id="selecteurs" class="d-flex justify-content-around">
                        <label>
                            <p>Le fait étudié :</p>
                            <select class="listFait"></select>
                        </label>            
                        <label>
                            <p>Le département étudié :</p>
                            <select class="listDep"></select>
                        </label>                
                    </div>
                </div>

                <hr class="line">

                <div id="graphEvolDep" class="container p-4 ">
                    <h3>Évolution des faits par département</h3>
                    <svg class="graph"></svg>
                    <div id="selecteurs" class="d-flex justify-content-around">
                        <label>
                            <p>Le fait étudié :</p>
                            <select class="listFait"></select>
                        </label>
                        <label>
                            <p>Le département étudié :</p>
                            <select class="listDep"></select>
                        </label>                 
                    </div>
                </div>

            </div>

            <!-- Analyse des Tendances -->
            <div class="tab-pane fade text-center" id="nav-profils" role="tabpanel">

                <div class="font-h2">
                    <h2>Identification des groupes et des cas particuliers parmi les départements</h2>
                </div>

                <div id="carteFaits" class="container p-4 ">
                    <h3>Visualisation géographique d'un fait divers en France</h3>
                    <svg class="graph"></svg>
                    <div id="selecteurs" class="d-flex justify-content-around">
                        <label>
                            <p>Le fait étudié :</p>
                            <select class="listFait"></select>
                        </label> 
                        <label>
                            <p>L'année étudié :</p>
                            <select class="listAnnee"></select>
                        </label> 
                    </div>
                </div>

                

                <hr class="line">

                <div id="boxplot" class="container p-4">
                    <h3>Boîte à moustaches des faits par année</h3>
                    <svg class="graph"></svg>
                    <div id="selecteurs" class="d-flex justify-content-around">
                        <label>
                            <p>Le fait étudié :</p>
                            <select class="listFait"></select>
                        </label>  
                        <button id="toggleScale" class="btn btn-primary">Passer à l'échelle log</button>            
                    </div>
                </div>

                <hr class="line">

                <div id="graphDiffAnnee" class="container p-4 ">
                    <h3>Evolution d'un fait d'une année à l'autre en fonction d'un département</h3>
                    <svg class="graph"></svg>
                    <div id="selecteurs" class="d-flex justify-content-around">
                        <label>
                            <p>Le fait étudié :</p>
                            <select class="listFait"></select>
                        </label>
                        <label>
                            <p>Le département étudié :</p>
                            <select class="listDep"></select>
                        </label>                 
                    </div>
                </div>

                <!-- Graphe non satisfaisant
                <hr class="line">
                
                <div id="graphRepartitionFaits" class="container p-4">
                    <h3>Répartition des faits par type</h3>
                    <svg class="graph"></svg>
                    <div id="selecteurs" class="d-flex justify-content-around">
                        <label>
                            <p>Le département étudié :</p>
                            <select class="listDep"></select>
                        </label>     
                        <label>
                            <p>L'année étudié :</p>
                            <select class="listAnnee"></select>
                        </label>            
                    </div>
                </div>-->

            </div>

            <!-- Analyse des Profils et Exploration -->
            <div class="tab-pane fade text-center" id="nav-libre" role="tabpanel">

                <div class="font-h2">
                    <h2>Définition d'analyses visuelles supplémentaires</h2>
                </div>

                <div id="graphEvolCarteCourbes" class="container p-4">
                    <h3>Évolution des faits par département (Carte + Courbes)</h3>
                    <svg class="graph" id="affichage"></svg>
                    <svg id="depSelector"></svg>
                    <div id="selecteurs" class="d-flex justify-content-around">
                        <label >
                            <p>Le fait étudié :</p>
                            <select class="listFait"></select>
                        </label>                    
                    </div>
                </div>

                <hr class="line">

                <div id="graphTreeMap" class="container p-4">
                    <h3>Nombre de faits par année par département</h3>
                    <svg class="graph"></svg>
                    <svg class="graph legend"></svg>
                    <div id="selecteurs" class="d-flex justify-content-around">
                        <label>
                            <p>Le fait étudié :</p>
                            <select class="listFait"></select>
                        </label>            
                        <label>
                            <p>L'année étudiée :</p>
                            <select class="listAnnee"></select>
                        </label>                
                        <button id="resetZoom" class="btn btn-primary">Réinitialiser le zoom</button>
                    </div>
                </div>                

            </div>

        </div>

        <script type="module" src="src/main.js" charset="utf-8"></script>
        <!--
        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        -->
    </body>
</html>